=flat-emboss-button($color: blue)
  +transition(.5s (background-image))
  background-color: $color
  color: luma_contrast_color($color)
  box-shadow: shade($color, 18%) 0 3px 0
  text-shadow: if(luma_bright($color), lighten($color, 8%) 0 1px 0, darken($color, 8%) 0 -1px 0)
  &:hover,
  .hover,
  .is-hover
    $color: lighten($color, 6%)
    @if $color == white
      background-color: #f4f4f4
    @else
      background-color: $color
  &:active,
  .active,
  .is-active
    $color: lighten($color, 6%)
    @if $color == white
      background-color: #f4f4f4
    @else
      background-color: $color
    box-shadow: shade($color, 18%) 0 2px 0
    +top(1px)
